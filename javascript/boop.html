<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
	<title>Bug Reader</title>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<link rel="stylesheet" type="text/css" href="css/local-style.css" />
</head>

<body>
	<div id="one">
		<p>
It's actually defined in the code as well to delete from these tables so that code needs to be updated to at least confirm before deleting data associated with the role when deleting it.</p>
<p>
 </p>
<div>
Create Procedure [dbo].[appsvc_DeleteVaultSecurityRole]</div>
<div>
@Id uniqueidentifier = null</div>
<div>
 </div>
<div>
as</div>
<div>
 </div>
<div>
Set NoCount On</div>
<div>
 </div>
<div>
BEGIN TRANSACTION</div>
<div>
 </div>
<div>
Delete From tblVaultSecurityRoleAssignments</div>
<div>
 Where VaultSecurityRoleId = @Id</div>
<div>
 </div>
<div>
Delete From tblVaultSecurityRolesToVaultCategories</div>
<div>
 Where VaultSecurityRoleId = @Id</div>
<div>
 </div>
<div>
Delete From [dbo].[tblVaultSecurityRoles]</div>
<div>
 Where Id = @Id</div>
<div>
 </div>
<div>
COMMIT TRANSACTION</div>
<div>
 </div>
<div>
 </div>
<div>
Return</div>
	</div>
</body>

</html>