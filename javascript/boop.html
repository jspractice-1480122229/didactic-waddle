<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta name="generator" content="HTML Tidy for HTML5 for Windows version 5.2.0" />
  <title>Bug Reader</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <link rel="stylesheet" type="text/css" href="css/local-style.css" />
</head>
<body>
  <div id="one">
    <p>It's actually defined in the code as well to delete from these tables so that code needs to be updated to at least confirm before deleting data associated with the role when deleting it.</p>
    <p>&nbsp;</p>
    <div>
      Create Procedure [dbo].[appsvc_DeleteVaultSecurityRole]
    </div>
    <div>
      @Id uniqueidentifier = null
    </div>
    <div>
      &nbsp;
    </div>
    <div>
      as
    </div>
    <div>
      &nbsp;
    </div>
    <div>
      Set NoCount On
    </div>
    <div>
      &nbsp;
    </div>
    <div>
      BEGIN TRANSACTION
    </div>
    <div>
      &nbsp;
    </div>
    <div>
      Delete From tblVaultSecurityRoleAssignments
    </div>
    <div>
      &nbsp;Where VaultSecurityRoleId = @Id
    </div>
    <div>
      &nbsp;
    </div>
    <div>
      Delete From tblVaultSecurityRolesToVaultCategories
    </div>
    <div>
      &nbsp;Where VaultSecurityRoleId = @Id
    </div>
    <div>
      &nbsp;
    </div>
    <div>
      Delete From [dbo].[tblVaultSecurityRoles]
    </div>
    <div>
      &nbsp;Where Id = @Id
    </div>
    <div>
      &nbsp;
    </div>
    <div>
      COMMIT TRANSACTION
    </div>
    <div>
      &nbsp;
    </div>
    <div>
      &nbsp;
    </div>
    <div>
      Return
    </div>
  </div>
</body>
</html>
